(this.webpackJsonpopus=this.webpackJsonpopus||[]).push([[0],{117:function(e,t){},118:function(e,t){},119:function(e,t){},120:function(e,t){},121:function(e,t){},124:function(e,t,n){e.exports=n.p+"static/media/tcimg.d9c27653.png"},142:function(e,t,n){},146:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(15),r=n.n(i),l=(n(94),n(50)),c=n(51),s=n(66),d=n(67),u=n(21),m=n(78),p=n(77),h=n(44),f=n(184),g=n(178),b=n(149),E=n(183),v=n(189),O=n(185),w=n(188),y=n(186),C=n(180),k=n(182),S=n(190),j=n(181),x=n(75),W=n.n(x),B=n(76),D=n(177),P=n(72),A=n.n(P),T=(n(124),n(73)),I=n.n(T),_=(n(142),n(74)),R=n.n(_),U=window.require("electron").ipcRenderer,M=[];window.require("fs");h.c.GlobalWorkerOptions.workerSrc="./pdf.worker.js";var N=Object(B.a)({palette:{primary:{main:"#ffb74d"},secondary:{main:"#fff"}}}),F=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).onChangeHandler=function(e){console.log(e.target.files);var t,n=e.target.files.length,o=function(){var n=URL.createObjectURL(e.target.files[t]),o={title:e.target.files[t].name,source:n,path:e.target.files[t].path};a.setState((function(e){return{tiles:[].concat(Object(c.a)(e.tiles),[o])}})),M.push(e.target.files[t].path)};for(t=0;t<n;t++)o();console.log(M)},a.onSubmit=function(e){e.preventDefault()},a.onFolderChange=function(e){console.log(e.target.files[0].webkitdirectoy)},a.deleteVid=function(e,t){console.log(e),console.log(t),a.setState((function(t){return{tiles:Object(c.a)(t.tiles.filter((function(t){return t.title!==e})))}})),M=M.filter((function(e){return e!==t})),console.log(a.state.tiles),console.log(M)},a.state={selectedFile:null,loaded:0,tiles:[],width:window.innerWidth,height:window.innerHeight,progbarOpen:!1,doneOpen:!1,expiredOpen:!1,tcOpen:!0},a.updateWindowDimensions=a.updateWindowDimensions.bind(Object(u.a)(a)),a.openProgBar=a.openProgBar.bind(Object(u.a)(a)),a.closeProgBar=a.closeProgBar.bind(Object(u.a)(a)),a.runBackend=a.runBackend.bind(Object(u.a)(a)),a.openDone=a.openDone.bind(Object(u.a)(a)),a.closeDone=a.closeDone.bind(Object(u.a)(a)),a.closeExpired=a.closeExpired.bind(Object(u.a)(a)),a.openTC=a.openTC.bind(Object(u.a)(a)),a.closeTC=a.closeTC.bind(Object(u.a)(a)),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.openTC(),this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions),U.on("MESSAGE_FROM_BACKGROUND_VIA_MAIN",(function(t,n){console.log(n),e.closeProgBar(),e.openDone()}))}},{key:"openTC",value:function(){this.setState({tcOpen:!0})}},{key:"closeTC",value:function(){this.setState({tcOpen:!1})}},{key:"openProgBar",value:function(){this.setState({progbarOpen:!0})}},{key:"closeProgBar",value:function(){this.setState({progbarOpen:!1})}},{key:"openDone",value:function(){this.setState({doneOpen:!0})}},{key:"closeDone",value:function(){this.setState({doneOpen:!1})}},{key:"closeExpired",value:function(){this.setState({expiredOpen:!1})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"runBackend",value:function(){if(0!=M.length){this.openProgBar();var e=JSON.stringify(M);console.log(e),U.send("START_BACKGROUND_VIA_MAIN",{number:e})}}},{key:"render",value:function(){var e=this;return o.a.createElement(D.a,{theme:N},o.a.createElement(g.a,null,o.a.createElement(H,{open:this.state.doneOpen,onClose:this.closeDone}),o.a.createElement(L,{open:this.state.expiredOpen,onClose:this.closeExpired}),o.a.createElement(V,{open:this.state.tcOpen,onClose:this.closeTC}),o.a.createElement(v.a,{p:1},o.a.createElement("img",{src:A.a,width:"7%",height:"7%"}),o.a.createElement(b.a,{variant:"h5",component:"h3",align:"center"},"Welcome to OPUS!")),o.a.createElement(G,{open:this.state.progbarOpen,onClose:this.closeProgBar,runBackend:this.runBackend,onChange:this.onFolderChange,onSubmit:this.onSubmit}),o.a.createElement(C.a,{cellHeight:"auto",cols:3,spacing:10,style:{height:.73*this.state.height}},this.state.tiles.map((function(t){return o.a.createElement(S.a,{key:t.title},o.a.createElement(j.a,{disabled:!0}),o.a.createElement(k.a,{title:t.title,titlePosition:"top",style:{background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},actionIcon:o.a.createElement("div",null,o.a.createElement(j.a,{onClick:function(){return e.deleteVid(t.title,t.path)}},o.a.createElement(W.a,{fontSize:"default",color:"secondary"}))),actionPosition:"right"}),o.a.createElement(I.a,{width:280,height:180,url:t.source,controls:!0}))}))),o.a.createElement(E.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-end",spacing:6},o.a.createElement(E.a,{item:!0,xs:6,position:"fixed"},o.a.createElement(f.a,{style:{bottom:3,left:3},color:"primary",variant:"contained",onClick:this.runBackend},"Create Ensemble!")),o.a.createElement(E.a,{item:!0,xs:3,right:1,alignContent:"flex-end"},o.a.createElement("label",{htmlFor:"upload-video"},o.a.createElement("input",{style:{display:"none"},id:"upload-video",name:"upload-video",type:"file",onChange:this.onChangeHandler,onSubmit:this.onSubmit,multiple:!0}),o.a.createElement(f.a,{style:{bottom:3,right:0},color:"primary",variant:"contained",component:"span"},"Add Videos"))))))}}]),n}(a.Component);function G(e){var t=e.onClose,n=e.open;return o.a.createElement(w.a,{disableBackdropClick:!0,fullWidth:!0,maxWidth:"xs",onClose:function(){t()},"aria-labelledby":"simple-dialog-title",open:n},o.a.createElement(O.a,null,"Creating Ensemble..."),o.a.createElement(y.a,{variant:"indeterminate"}))}function H(e){var t=e.onClose,n=e.open;return o.a.createElement(w.a,{fullWidth:!0,maxWidth:"xs",onClose:function(){t()},"aria-labelledby":"simple-dialog-title",open:n},o.a.createElement(O.a,null,"Ensemble complete!"),o.a.createElement(E.a,{container:!0,direction:"column",alignItems:"center",justify:"center",spacing:1},o.a.createElement(E.a,{item:!0},o.a.createElement(b.a,null,"Check your Desktop folder for the finished product.")),o.a.createElement(E.a,{item:!0},o.a.createElement(f.a,{maxWidth:"sm",variant:"contained",onClick:t},"OK")),o.a.createElement(E.a,{item:!0},o.a.createElement(j.a,{disabled:!0}))))}function L(e){var t=e.onClose,n=e.open;return o.a.createElement(w.a,{fullWidth:!0,maxWidth:"xs",onClose:function(){t()},"aria-labelledby":"simple-dialog-title",open:n},o.a.createElement(O.a,null,"Error: software is expired."))}function V(e){var t=e.onClose,n=e.open,i=Object(a.useState)(null),r=Object(l.a)(i,2),c=r[0],s=r[1],d=Object(a.useState)(1),u=Object(l.a)(d,2);u[0],u[1];return o.a.createElement(w.a,{disableBackdropClick:!0,fullWidth:!0,maxWidth:"sm",onClose:function(){t()},"aria-labelledby":"simple-dialog-title",open:n},o.a.createElement(O.a,null,"Terms and Conditions"),o.a.createElement("div",{style:{overflowX:"hidden"}},o.a.createElement(E.a,{container:!0,direction:"column",alignItems:"center",justify:"center",spacing:1},o.a.createElement(E.a,{item:!0},o.a.createElement("div",null,o.a.createElement(h.a,{file:R.a,onLoadSuccess:function(e){var t=e.numPages;s(t)}},Array.from(Array(c),(function(e,t){return t+1})).map((function(e){return o.a.createElement(h.b,{pageNumber:e})})))))),o.a.createElement(E.a,{container:!0,direction:"column",alignItems:"center",justify:"center",spacing:1},o.a.createElement(E.a,{item:!0},o.a.createElement(f.a,{maxWidth:"sm",variant:"contained",onClick:t},"AGREE")))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},72:function(e,t,n){e.exports=n.p+"static/media/icon.e963f229.ico"},74:function(e,t,n){e.exports=n.p+"static/media/ToU_PP_OPUS.fda56d6d.pdf"},89:function(e,t,n){e.exports=n(146)},94:function(e,t,n){}},[[89,1,2]]]);
//# sourceMappingURL=main.d2d671f3.chunk.js.map